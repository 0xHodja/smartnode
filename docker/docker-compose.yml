version: "3.7"
services:
  geth:
    image: ethereum/client-go
    volumes:
      - /Users/moles/.rocketpool:/root
    networks:
      - net
    ports:
      - "8545:8545"
      - "8546:8546"
      - "30303:30303"
    command: [
      "--networkid", "11",
      "--targetgaslimit", "8000000",
      "--rpc",
      "--rpcaddr", "0.0.0.0",
      "--rpcvhosts", "geth",
      # Clique mining parameters
      "--mine",
      "--allow-insecure-unlock",
      "--unlock", "0xca00774c08c016dd831ee4c063c56eec4b9f928e",
      "--password", "/root/.ethereum/password"
    ]
  node:
    image: rocketpool-node
    volumes:
      - /Users/moles/.rocketpool:/.rocketpool
    networks:
      - net
    links:
      - geth
  watchtower:
    image: rocketpool-watchtower
    volumes:
      - /Users/moles/.rocketpool:/.rocketpool
    networks:
      - net
    links:
      - geth
networks:
  net:
